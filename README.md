# Тестовое задание
```
## Описание
Разработать сервис управления подписками c двумя типами (Basic и PRO) и кэш-сервис к нему, для простоты оба сервиса реализовать в одном проекте разделив разными пакетами. Необходимо самостоятельно спроектировать схему базы данных, архитектуру и API системы.


## Сервис управления подписками

Сервис предоставляет rest api для активации/деактивации подписок пользователя и выставляет счета по ним. Использует реляционную БД.

1) Активация подписки

Входные данные:
* Идентификатор пользователя
* Тип подписки
* Дата активации (yyyy-MM-dd)

Требования:
* Пользователь не может иметь несколько активных подписок
* Дата активации не может быть в прошлом

2) Деактивация подписки

Входные данные:
* Пользователь
* Тип подписки


3) Выставление счетов (Scheduled task)

Ежедневно выставлять счета за активные подписки, у которых день даты активации совпадает с днем запуска задачи. Выставленный счет записывать в таблицу и отправлять в очередь брокера сообщений.
Информация о счете:
* Идентификатор счета
* Идентификатор пользователя
* Дата выставления
* Стоимость и название подписки (Basic - 100р, PRO - 200р)
* Дата активации подписки

Требования:
* Предусмотреть ситуацию недоступности брокера сообщений

## Кэш-сервис получения информации о пользователе

Сервис должен по событиям из системы управления подписками актуализировать информацию о пользователе в NoSQL БД и предоставлять resp api для получения этой информации

1) Информация о пользователе

Входные данные:
* Идентификатор пользователя
* Параметры пагинации

Возвращаемые данные:
* Активные подписки
* Выставленные счета с пагинацией

Требования:
* Хранение данных в NoSQL (redis)
* Предусмотреть ситуацию недоступности NoSQL БД


## Cтек
* Java (версия на выбор)
* Брокер сообщений (RabbitMQ/ActiveMQ - на выбор)
* Реляционная БД (MySQL/PostgreSQL - на выбор)
* Redis
* Maven или Gradle - на выбор
* JUnit 5 + Mockito
```

### Проблемы, не озвученные явно:
* В топик отправляются только сообщения об обработанных подписках. Если подписку отменили, эта информация не учитывается.


## Service-postgres
### Сборка
```shell
./gradlew :service-postgres:clean build
```

### Запуск
```shell
./gradlew :service-postgres:bootRun
```

## Service-redis 
### Сборка
```shell
./gradlew :service-redis:clean build
```

### Запуск
```shell
./gradlew :service-redis:bootRun
```